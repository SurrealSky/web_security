数据链路层原理及协议
========================================

意义
----------------------------------------
物理层的线路有传输介质与通信设备组成，比特流在传输介质上传输时肯定会存在误差的。这样就引入了数据链路层在物理层之上，采用差错检测、差错控制和流量控制等方法，向网络层提供高质量的数据传输服务。

链路管理
----------------------------------------
数据链路层提供的服务类型，包括服务分为以下三类：有确认的面向连接服务、有确认的无连接服务、无确认的无连接服务。前者称为面向连接服务（Connection-oriented Servce），后面两者称为无连接服务（Connetionless Service)。

两种信道
----------------------------------------
- 点对点信道
- 广播信道

组帧
----------------------------------------
- 面向位的成帧
	如IBM的SDLC,HDLC等。
- 面向字节的成帧
	如IBM的BISYNC等。
- 基于时钟的成帧
	如SONET等。

	+----------------------------------------------------------------------+
	|   帧首部   |   帧的数据部分（MTU最大）    |     帧尾部               |
	+----------------------------------------------------------------------+
	
透明传输原理
----------------------------------------
- 字节计数法
	是一种以一个特殊字符代表一个帧的起始，并以一个专门的字段来标识当前帧内字节数的帧同步方法。接收端可以通过对该特殊字符的识别从比特流中区分出每个帧的起始，并从专门字段中获知每个帧后面跟随的“数据”（Data）字段的字节数，从而可确定出每个帧的结束位置。

- 比特填充的首尾定界符法
	是通过在帧头和帧尾各插入一个特定的比特串（如 1111110) 来标识一个数据帧的起始与结束，这个帧头、帧尾特定比特串称为帧定界符。为了透明传输，也就是为了避免在信息位中出现的与帧起始和结束符相似的比特串时被误判为帧的首、尾标志，采用了比特填充的方法。比如上面采用的特定模式为 0111, 则对信息位中的任何连续出现的 5 个“1”（因为帧标志符中是有 5 个连续“1”），发送端自动在其后插入一个“0”。

- 字符填充的首尾定界符法
	是用一些特定的控制字符来标识一个帧的起始与结束，如IBM的 BSC 协议在每个数据块的头部用一个或多个同步字符“SYN”来标记数据块的开始；尾部用字符“ETX“来标记数据决的结束。另外，为了不使数据信息中与以上特定字符相同的字符被误判为帧的首尾定界符，可以在这种数据帧的帧头填充一个转义控制字符（Data Link Escape -Startof Text, DLE）。
	
- 违法编码法
	是在物理层采用特定的比特编码方法时采用。例如，曼彻斯特编码方法，将数据“1”编码成“高-低”电平对（在半个码元处跳变），将数据“0”编码成“低-高”电平对。而高-高电平对和低-低电平对在数据比特中是违法的，因此可以借用这些违法编码序列来定界帧的起始与终止。违法编码法不需要任何填充技术，便能实现数据的透明性，但它只适用于采用冗余编码的特殊编码环境。是在物理层采用特定的比特编码方法时采用。例如，曼彻斯特编码方法，将数据“1”编码成“高-低”电平对（在半个码元处跳变），将数据“0”编码成“低-高”电平对。而高-高电平对和低-低电平对在数据比特中是违法的，因此可以借用这些违法编码序列来定界帧的起始与终止。违法编码法不需要任何填充技术，便能实现数据的透明性，但它只适用于采用冗余编码的特殊编码环境。
	
差错控制方案
----------------------------------------

差错检测
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
- 奇偶校验码（Parity Check Code, PCC）
- 循环冗余校验（Cyclic Redundancy Check, CRC）

差错纠正
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
- 反馈检测
- 自动重发请求(Automatic Repeat reQuest,ARQ法)
- 纠错码（Eror- correcting Code）
	海明码

流量控制方案
----------------------------------------
 | 一种是适用于面向字符的异步通信协议（如 RS-232) 中的简单流量控制方案 XON/XOFF (继续/停止)方案;
 | 一种是适用于大量数据通信环境中的“滑动窗口机制”。

PPP/PPPOE协议
----------------------------------------

第二层隧道协议
----------------------------------------
隧道技术是一种通过使用互联网络的基础设施在网络之间传递数据的方式。使用隧道传递的数据(或负载)可以是不同协议的数据帧或包。隧道协议将这些其他协议的数据帧或包重新封装在新的包头中发送。新的包头提供了路由信息，从而使封装的负载数据能够通过互联网络传递。
被封装的数据包在公共互联网络上传递时所经过的逻辑路径称为隧道。隧道技术是指包括数据封装、传输和解包在内的全过程,是VPN技术的基础.
按照开放系统互连参考模型(OSI)的划分，隧道技术可以分为第2层和第3层隧道协议。第2层隧道协议使用帧作为数据交换单位。PPTP、L2TP都属于第2层隧道协议，它们都是将数据封装在点对点协议(PPP)帧中通过互联网发送的。第3层隧道协议使用包作为数据交换单位。IPoverIP和IPSec隧道模式都属于第3层隧道协议，它们都是将lP包封装在附加的IP包头中通过IP网络传送。


PPTP
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

L2TP
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
