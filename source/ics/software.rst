软件系统
========================================

嵌入式操作系统
----------------------------------------

主流
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+ 国外：μClinux、μC/OS-II、eCos、FreeRTOS、mbed OS、RTX、Vxworks、QNX、NuttX
+ 国产：都江堰操作系统(djyos)、Alios Things、Huawei LiteOS、RT-Thread、SylixOS

PLC
----------------------------------------

构成
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+ 操作系统
	- 系统管理程序
	- 用户指令解释程序
	- 标准程序模块
	- 系统调用

+ 用户程序
	- 用户根据控制对象编制的应用程序。
	- 用户程序一般存于CMOS静态RAM中，用锂电池作为后备电源，以保证掉电时不会丢失信息。
	- 为防止干扰对RAM中程序的破坏，当用户程序经过运行正常，不需要改变，可将其固化在EPROM中。
	- 现在有许多PLC直接采用EPROM作为用户存储器。
	
用户程序执行
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+ 输入扫描阶段
	- 读入输入信号存入输入影像区，并刷新输入映像存储器
	- 程序执行阶段和输出刷新阶段，输入映像存储器与外界隔离，内容保持不变
	- 非输入扫描阶段，PLC外部输入设备状态发生变化，内部继电器不会改变
+ 执行用户程序
	- 按梯形图顺序自上而下，从左到右扫描执行
	- 从输入映像区读取变量状态，进行运算，将结果存入相应内部继电器中（输出继电器，内部辅助继电器，定时器，计数器等）
	- 输出继电器信号存储在输出映像区，与PLC外部同编号输出点对应
+ 输出刷新阶段
	- 程序执行阶段运算结果存入输出映像区
	- 输出映像区的输出变量送入输出锁存器
	- 锁存器通过输出模块产生本周期的控制输出

操作系统
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+ 西门子
	- RMOS
+ 施耐德
	- Vxworks
